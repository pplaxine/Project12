<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head th:replace="fragments/head :: head">
		<title>Create give away</title>
	</head>
	<body>
		<header th:replace="fragments/header :: header"></header>
		<div class="bg_user_space">
			<div class="row h-100 justify-content-center align-items-top">
				<div class="bg_dark_filter">
					<div th:if="!${info}">
						<div class="container-fluid text-light pt-5">
							<h3>Donation</h3>
							<div class="col pt-1 pb-3">
								<div class="row">
									<div class="col-12 bg_dark_filter rounded pt-2 pb-3 mb-3">
										<div th:if="${session.containerViewDtoMap}">
											<div th:each="container : ${session.containerViewDtoMap}">
												<a th:href="@{|/user/giveaway/container/remove/${container.value.id}|}"> 
													<button class="btn btn bg-dark mb-3 text-info">
														<span>Container : </span>
														<span th:text="${container.value.name}"></span>
														<span class="text-danger">x</span>
													</button>
												</a>
											</div>
										</div>
										<br/>
										<div class="text-right">
											<form action="#" th:action="@{/user/giveaway/container}" method="GET">
												<button name="submit" class="btn btn-info btn-sm" type="submit" value="0">add container</button>
											</form>
										</div>
									
									</div>
								</div>
								<div class="row">
									<div class="col-12 bg_dark_filter rounded pb-3">
										<form action="#" th:action="@{/user/giveaway/create}" th:object="${giveAwayViewDto}"  method="GET">
											<div class="form-group col-sm-12">
												<label for="availableToBeCollectedFrom">When will it be available :  </label>
												<input type="datetime-local" required="required" id="availableToBeCollectedFrom" name="availableToBeCollectedFrom" th:field="*{availableToBeCollectedFrom}" class="form-control"/>
											</div>
											<div class="form-group col-sm-12  ">
												<label for="collectionSpotAddress" >Which collection point :</label>
												<select class="form-control" id="collectionSpotAddress" th:field="*{collectionSpotAddress}" >
													<option th:each="collectionSpotAddress : ${session.organisation.collectionAddressList}" th:value="${collectionSpotAddress.value.spotName}" th:text="${collectionSpotAddress.value.spotName}"></option>							
												</select> <br/>
											</div>
											
											<div class="text-center">
												<button class="btn btn-success btn-lg" name="submit" type="submit" value="0">Create donation</button>
											</div>
										</form>
									
									</div>
								</div>
								<div th:if="${error}" th:text="${error}" class="text-danger"></div>
							</div>
						</div>
					</div>
					<div th:if="${info}">
						<div class="row h-100 justify-content-center align-items-center ">
							<div th:text="${info}" class="col-10 -offset-1 text-success text-center mt-5"></div>
						</div>	
					</div>
					
				</div>
			</div>
		</div>
	</body>
</html>